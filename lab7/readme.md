Внедрение маршрутизации между виртуальными локальными сетями
Задачи
-----
Часть 1. Создание сети и настройка основных параметров устройства

Часть 2. Выбор корневого моста

Часть 3. Наблюдение за процессом выбора протоколом STP порта, исходя из стоимости портов

Часть 4. Наблюдение за процессом выбора протоколом STP порта, исходя из приоритета портов




----

### Решение 
<a name="0"><h2> </h2></a>
[Часть 1. топологиия](#1)

[Часть 1: Настройка основных параметров устройства](#2)

[Часть 2. Определение корневого моста](#3)

[Часть 3. Наблюдение за процессом выбора протоколом STP порта, исходя из стоимости портов](#4)

[Часть 4: Настройка маршрутизации между сетями VLAN](#5)

[Часть 5. Проверка работоспособности маршрутизации между VLAN](#6)


 

----
<a name="1"><h2>топология</h2></a>
![Lab Map](https://github.com/ssvstdt/netwbas/blob/main/lab7/topology.JPG)

  
 [наверх](#0)

<a name="2"><h2>Настройка основных параметров устройства:</h2></a>
c.	Отключите поиск DNS, чтобы предотвратить попытки маршрутизатора неверно преобразовывать введенные команды таким образом, как будто они являются именами узлов.

d.	Назначьте class в качестве зашифрованного пароля привилегированного режима EXEC.

e.	Назначьте cisco в качестве пароля консоли и включите вход в систему по паролю.

f.	Назначьте cisco в качестве пароля VTY и включите вход в систему по паролю.

g.	адайте IP-адрес, указанный в таблице адресации для VLAN 1 на всех коммутаторах.

h.	Скопируйте текущую конфигурацию в файл загрузочной конфигурации.

!
hostname S1
!
enable password 7 0822404F1A0A
!
!
!
no ip domain-lookup
!
!
!
spanning-tree mode pvst
spanning-tree extend system-id
!
!
interface Vlan1
 ip address 192.168.1.1 255.255.255.0
!
banner motd ^CCONNECTION PROHIBITED, DISCONNECT IMMEDIETLY!!!^C
!
!
!
line con 0
 password 7 0822455D0A16
 logging synchronous
 login local
!
line vty 0 4
 password 7 0822455D0A16
 login local
line vty 5 15
 login
!
!
``` 
 [наверх](#0)
# Проверка связи
![ping_s1](https://github.com/ssvstdt/netwbas/blob/main/lab7/ping s1-s2_s3.JPG)
![ping_s2](https://github.com/ssvstdt/netwbas/blob/main/lab7/ping_s2-s3.JPG)


 [наверх](#0) 
<a name="3"><h2>Часть 2. Определение корневого моста</h2></a>
# данные протокола spanning-tree
данные протокола показаны для сценария:
Шаг 1:	Отключите все порты на коммутаторах.
Шаг 2:	Настройте подключенные порты в качестве транковых.
Шаг 3:	Включите порты F0/2 и F0/4 на всех коммутаторах.

![s2_stp_blk](https://github.com/ssvstdt/netwbas/blob/main/lab7/S2_stp_blk.JPG)
![s3_stp_blk](https://github.com/ssvstdt/netwbas/blob/main/lab7/S3_stp_blk.JPG)

# ответы на вопросы:

1. Какой коммутатор является корневым мостом?  - S1
2. Почему этот коммутатор был выбран протоколом spanning-tree в качестве корневого моста? - т.к. Priority 32769 (priority 32768 sys-id-ext 1) + MACS1_0002.4A45.2B84 < MACS3_00D0.5812.C9B8 < MACS2_00E0.F996.9492
3. Какие порты на коммутаторе являются корневыми портами?  S2 fa0/2, S3 fa0/4
4. Какие порты на коммутаторе являются назначенными портами? S1 fa0/2,fa0/4; S3 fa0/2
5. Какой порт отображается в качестве альтернативного и в настоящее время заблокирован? S2 fa0/2
6. Почему протокол spanning-tree выбрал этот порт в качестве невыделенного (заблокированного) порта? у него больше  root-Path Cost 


 [наверх](#0) 


<a name="4"><h2>Часть 3. Наблюдение за процессом выбора протоколом STP порта, исходя из стоимости портов</h2></a>
# текущая конфигурация

![s2_stp_blk](https://github.com/ssvstdt/netwbas/blob/main/lab7/S2_stp_blk.JPG)
# изменяем стоимость порта

![s2_cost18](https://github.com/ssvstdt/netwbas/blob/main/lab7/s2_cost18.JPG)

# теперь блокируется порт на S3
![s3_cost18_blk](https://github.com/ssvstdt/netwbas/blob/main/lab7/s3_cost18_blk.JPG)

 [наверх](#0) 

<a name="5"><h2>Наблюдение за процессом выбора протоколом STP порта, исходя из приоритета портов</h2></a>

# подключены порты fa0/1  и fa0/3 на всех коммутаторах вывод show spanning-tree:

![4_S1_stp](https://github.com/ssvstdt/netwbas/blob/main/lab7/4_S1_stp.JPG)

![4_S2_stp](https://github.com/ssvstdt/netwbas/blob/main/lab7/4_S2_stp.JPG)

![4_S3_stp](https://github.com/ssvstdt/netwbas/blob/main/lab7/4_S3_stp.JPG)

# вопросы для заполнения:

Какой порт выбран протоколом STP в качестве порта корневого моста на каждом коммутаторе некорневого моста?  S2 fa0/1,   S3 fa0/3

Почему протокол STP выбрал эти порты в качестве портов корневого моста на этих коммутаторах? - при прочих равных стоимость пути меньше, из-за значения приоритета включающее номеро порта. 


 [наверх](#0)
